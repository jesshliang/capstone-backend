(this["webpackJsonpcapstone-frontend"]=this["webpackJsonpcapstone-frontend"]||[]).push([[0],{31:function(e,t,n){e.exports=n(93)},36:function(e,t,n){},83:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(28),c=n.n(l),o=(n(36),n(3)),i=n(29),u=n.n(i),s=n(10),m=n.n(s),p=(n(83),function(e){return r.a.createElement("div",{id:"homepage"},r.a.createElement("header",null,r.a.createElement("h1",null,"the travel mApp")),r.a.createElement("main",null,r.a.createElement(u.a,{authCallback:function(t,n){m()({method:"post",url:"https://the-travel-mapp.herokuapp.com/users",params:{username:n.screen_name},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"}}).then((function(t){e.setUserCallback(n.screen_name),e.setUserInformationCallback(t.data.trips)})).catch((function(e){console.log(e)}))},consumerKey:"luVu8KaYbTvMVCVkgs0wLT48J",consumerSecret:"ySQwiAO5SUC64bbv8tVitaBzoqbY9KfZbjiOj9nekl21CLK6RS",callbackUrl:"https://the-travel-mapp.herokuapp.com"})),r.a.createElement("footer",null,r.a.createElement("p",null,"An application for logging and visualizing",r.a.createElement("br",null),"your travels and adventures!")))}),d=n(30),f=n(11),E=n.n(f),h=(n(84),n(85),{width:"90vw",height:"65vh",overflow:"hidden"}),b=function(e){var t=e.userInformation,n=Object(a.useState)(null),l=Object(o.a)(n,2),c=l[0],i=l[1],u=Object(a.useState)([]),s=Object(o.a)(u,2),m=s[0],p=(s[1],Object(a.useRef)(null));return Object(a.useEffect)((function(){E.a.accessToken="pk.eyJ1IjoiamVzc2ljYWxpYW5nIiwiYSI6ImNrY2I3N25wazFpOGEzMHF0dHY3aHNkOWUifQ.ItSK1BDpYydbUVyDPvdj6A";c||function(e){var t=e.setMap,n=e.mapContainer,a=new E.a.Map({container:n.current,style:"mapbox://styles/jessicaliang/ckcv0sd9t00861irp6uuv5xh6",center:[0,16],zoom:1});a.addControl(new E.a.NavigationControl),a.on("load",(function(){t(a),a.resize()}))}({setMap:i,mapContainer:p})}),[c]),Object(a.useEffect)((function(){c&&(m.forEach((function(e){e.remove()})),m.length=0,t.forEach((function(e){var t,n=Object(d.a)(e.places);try{for(n.s();!(t=n.n()).done;){var a=t.value,r=document.createElement("div");r.style.backgroundImage="url(".concat(a.url,")"),r.style.width="75px",r.style.height="75px",r.className="marker";var l=new E.a.Popup({offset:40}).setText(a.location);m.push(new E.a.Marker(r).setLngLat(a.coordinates).setPopup(l).addTo(c))}}catch(o){n.e(o)}finally{n.f()}})))}),[t,c]),r.a.createElement("div",{ref:function(e){return p.current=e},style:h})},v=(n(86),function(e){return r.a.createElement("div",{className:"map-container"},r.a.createElement(b,e))}),C=n(14),g=n(5),k=(n(87),function(e){var t=e.index,n=e.title,l=e.date,c=e.tripPlaces,i=e.editTripCallback,u=e.setToggleEdit,s=Object(a.useState)({title:n,date:l}),m=Object(o.a)(s,2),p=m[0],d=m[1],f=Object(a.useState)(c),E=Object(o.a)(f,2),h=E[0],b=E[1],v=function(e){var t=Object(C.a)({},p);t[e.target.name]=e.target.value,d(t)},k=function(e){e.preventDefault(),u(!1),i(p,h,t)};return r.a.createElement("div",{className:"edit_trip_form_container"},r.a.createElement("h2",null,"Edit"),r.a.createElement("form",{onSubmit:k},r.a.createElement("section",{className:"edit_trip_form_container--title"},r.a.createElement("label",null,r.a.createElement("strong",null,"Title "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:p.title,name:"title",onChange:v,maxLength:"26",required:!0}))),r.a.createElement("section",{className:"edit_trip_form_container--date"},r.a.createElement("label",null,r.a.createElement("strong",null,"Date "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:p.date,name:"date",onChange:v,pattern:"\\d{1,2}-\\d{4}",maxLength:"7",required:!0}))),r.a.createElement("section",{className:"edit_trip_form_container--places"},r.a.createElement("label",null,r.a.createElement("strong",null,"Places "),r.a.createElement("br",null),h.map((function(e,t){return r.a.createElement("section",{key:t},r.a.createElement("input",{type:"text",value:e.location,onChange:function(e){return function(e,t){var n=Object(g.a)(h);n[t][0]=e.target.value,b(n)}(e,t)},placeholder:"name of place",required:!0}),r.a.createElement("input",{type:"text",value:e.url,onChange:function(e){return function(e,t){var n=Object(g.a)(h);n[t][1]=e.target.value,b(n)}(e,t)},placeholder:"image url",required:!0}),r.a.createElement("button",{onClick:function(e){return function(e,t){e.preventDefault();var n=Object(g.a)(h);n.splice(t,1),b(n)}(e,t)}},"X"))})))),r.a.createElement("section",{className:"edit_trip_form_container--buttons"},r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=Object(g.a)(h);t.push(["",""]),b(t)}},"Add Place"),r.a.createElement("button",{onClick:function(){return u(!1)}},"Close"),r.a.createElement("input",{type:"submit",value:"Save",onSubmit:k}))))}),T=(n(88),function(e){var t=e.index,n=e.title,l=e.date,c=e.places,i=e.editTripCallback,u=e.deleteTripCallback,s=Object(a.useState)(!1),m=Object(o.a)(s,2),p=m[0],d=m[1],f=c.map((function(e,t){return r.a.createElement("li",{key:t,className:"trip_listing_container--place"},r.a.createElement("img",{src:e.url,alt:e.location}),e.location)}));return r.a.createElement("section",{className:"trip_listing_container"},!1===p?r.a.createElement("section",null,r.a.createElement("section",{className:"trip_list_container--header"},r.a.createElement("h2",null,n),r.a.createElement("p",{className:"trip_listing_container--date"},r.a.createElement("em",null,l))),r.a.createElement("h3",null,"Places"),r.a.createElement("section",{className:"trip_listing_container--places-container"},f),r.a.createElement("section",{className:"trip_listing_container--buttons"},r.a.createElement("button",{onClick:function(){return d(!0)}},"Edit"),r.a.createElement("button",{onClick:function(){window.confirm("Are you sure you wish to delete this item?")&&u(t)}},"Delete"))):r.a.createElement(k,{key:t,index:t,title:n,date:l,tripPlaces:c,editTripCallback:i,setToggleEdit:d}))}),O=(n(89),function(e){var t;return t=e.userInformation.map((function(t,n){return r.a.createElement(T,{key:n,index:n,title:t.title,date:t.date,places:t.places,editTripCallback:e.editTripCallback,deleteTripCallback:e.deleteTripCallback})})),r.a.createElement("div",{className:"all-trips-container"},r.a.createElement("h1",null,"Your Trips"),t)}),A=(n(90),function(e){var t=Object(a.useState)({title:"",month:"",year:""}),n=Object(o.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)([["",""]]),u=Object(o.a)(i,2),s=u[0],m=u[1],p=Object(a.useState)(!1),d=Object(o.a)(p,2),f=d[0],E=d[1],h=function(e){var t=Object(C.a)({},l);t[e.target.name]=e.target.value,c(t)},b=function(t){t.preventDefault(),e.addNewTripCallback(l,s),c({title:"",month:"",year:""}),m([["",""]])};return r.a.createElement("div",null,f?r.a.createElement("div",{className:"new_trip_form_container"},r.a.createElement("h2",null,"Add a New Trip"),r.a.createElement("form",{onSubmit:b},r.a.createElement("section",{className:"new_trip_form_container--title"},r.a.createElement("label",null,r.a.createElement("strong",null,"Title "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:l.title,name:"title",onChange:h,maxLength:"26",required:!0}))),r.a.createElement("section",{className:"new_trip_form_container--date"},r.a.createElement("label",null,r.a.createElement("strong",null,"Date "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"month",value:l.month,name:"month",onChange:h,pattern:"\\d*",maxLength:"2",required:!0})," /",r.a.createElement("input",{type:"text",placeholder:"year",value:l.year,name:"year",onChange:h,pattern:"\\d*",maxLength:"4",required:!0}))),r.a.createElement("section",{className:"new_trip_form_container--places"},r.a.createElement("label",null,r.a.createElement("strong",null,"Places "),r.a.createElement("br",null),s.map((function(e,t){return r.a.createElement("section",{key:t},r.a.createElement("input",{type:"text",placeholder:"name of place",value:e[0],onChange:function(e){return function(e,t){var n=Object(g.a)(s);n[t][0]=e.target.value,m(n)}(e,t)},required:!0}),r.a.createElement("input",{type:"text",placeholder:"image url",value:e[1],onChange:function(e){return function(e,t){var n=Object(g.a)(s);n[t][1]=e.target.value,m(n)}(e,t)},required:!0}),r.a.createElement("button",{onClick:function(e){return function(e,t){e.preventDefault();var n=Object(g.a)(s);n.splice(t,1),m(n)}(e,t)}},"X"))})))),r.a.createElement("section",{className:"new_trip_form_container--buttons"},r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=Object(g.a)(s);t.push(["",""]),m(t)}},"Add Place"),r.a.createElement("input",{type:"submit",value:"Add New Trip",onSubmit:b}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return E(!1)}},"Cancel")))):r.a.createElement("button",{onClick:function(){return E(!0)},className:"new_trip_form_button"},"Add New Trip"))}),w=(n(91),function(e){return r.a.createElement("div",{id:"dashboard"},r.a.createElement("header",null,r.a.createElement("section",null,e.currentUser),r.a.createElement("h1",null,"the travel mApp"),r.a.createElement("section",null,r.a.createElement("button",{onClick:e.onLogoutCallback},"Log Out"))),r.a.createElement("main",{id:"dashboard__main_content"},r.a.createElement(v,{userInformation:e.userInformation}),r.a.createElement(A,{addNewTripCallback:function(t,n){m()({method:"post",url:"https://the-travel-mapp.herokuapp.com/trips",params:{username:e.currentUser,date:"".concat(t.month,"-").concat(t.year),title:t.title,places:n},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"}}).then((function(t){e.setUserInformationCallback(t.data.trips)})).catch((function(e){console.log(e)}))}}),r.a.createElement(O,{userInformation:e.userInformation,editTripCallback:function(t,n,a){m()({method:"patch",url:"https://the-travel-mapp.herokuapp.com/trips",params:{index:a,username:e.currentUser,date:t.date,title:t.title,places:n},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"}}).then((function(t){e.setUserInformationCallback(t.data.trips)})).catch((function(e){console.log(e)}))},deleteTripCallback:function(t){m()({method:"delete",url:"https://the-travel-mapp.herokuapp.com/trips",data:{username:e.currentUser,key:t},headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PATCH, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With"}}).then((function(t){e.setUserInformationCallback(t.data.trips)})).catch((function(e){console.log(e)}))}})))}),_=(n(92),function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(null),i=Object(o.a)(c,2),u=i[0],s=i[1];return r.a.createElement("div",null,""===n&&r.a.createElement(p,{setUserCallback:l,setUserInformationCallback:s}),""!==n&&null!==u&&r.a.createElement(w,{onLogoutCallback:function(e){e.preventDefault(),l("")},currentUser:n,setUserInformationCallback:s,userInformation:u}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.2eb98f7b.chunk.js.map