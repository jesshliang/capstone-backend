{"version":3,"sources":["components/Home.js","components/MapComponent.js","components/MapPage.js","components/EditTripForm.js","components/Trip.js","components/Trips.js","components/NewTripForm.js","components/Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["Home","props","id","authCallback","err","data","console","log","screen_name","axios","method","url","params","username","headers","then","response","setUserCallback","setUserInformationCallback","trips","catch","error","consumerKey","process","consumerSecret","callbackUrl","styles","width","height","overflow","MapComponent","userInformation","coordinates","useState","map","setMap","mapMarkers","mapContainer","useRef","useEffect","mapboxgl","accessToken","Map","container","current","style","center","zoom","on","resize","i","length","y","el","document","createElement","backgroundImage","className","popup","Popup","offset","setText","toUpperCase","push","Marker","setLngLat","setPopup","addTo","initializeMap","forEach","marker","remove","ref","MapPage","EditTripForm","index","title","date","tripPlaces","editTripCallback","setToggleEdit","otherFields","setOtherFields","places","setPlaces","onOtherFieldsUpdate","event","newOtherFields","target","name","value","onSubmit","preventDefault","type","onChange","maxLength","required","pattern","place","key","e","updatedPlaces","onPlacesUpdate","onPlacesUrlUpdate","onClick","newPlaces","splice","removePlaceField","Trip","deleteTripCallback","toggleEdit","window","confirm","Trips","allTrips","trip","NewTripForm","month","year","addNewTripCallback","placeholder","Dashboard","setEncodedLocations","setCoordinates","locations","escape","localCoordinates","encodingPromises","localPromises","get","features","Promise","all","currentUser","onLogoutCallback","App","user","setUser","setUserInformation","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.56ac3b47.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TwitterLogin from \"react-twitter-login\";\nimport axios from 'axios';\nimport './Home.css';\n\nconst Home = (props) => {\n\n\tconst authHandler = (err, data) => {\n\t\tconsole.log(err, data);\n\t\tconsole.log(data.screen_name);\n\n\t\taxios({\n      method: 'post',\n      url: 'https://the-travel-mapp.herokuapp.com/users',\n      params: {\n\t\t\t\tusername: data.screen_name,\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\"\n\t\t\t}\n    })\n    .then((response) => {\n\t\t\tprops.setUserCallback(data.screen_name);\n\t\t\tprops.setUserInformationCallback(response.data.trips);\n    })\n    .catch((error) => {\n      console.log(error);\n\t\t});\n\t};\n\t\n\treturn (\n\t\t<div id=\"homepage\">\n\t\t\t<header>\n\t\t\t\t<h1>the travel mApp</h1>\n\t\t\t</header>\n\n\t\t\t<main>\n\t\t\t\t<TwitterLogin\n\t\t\t\t\tauthCallback={authHandler}\n\t\t\t\t\tconsumerKey={process.env.REACT_APP_TWITTER_KEY}\n\t\t\t\t\tconsumerSecret={process.env.REACT_APP_TWITTER_SECRET}\n\t\t\t\t\tcallbackUrl={'https://the-travel-mapp.herokuapp.com/'}\n\t\t\t\t/>\n\t\t\t</main>\n\n\t\t\t<footer>\n\t\t\t\t<p>\n\t\t\t\t\tJessica made this.\n\t\t\t\t</p>\n\t\t\t</footer>\n\t\t</div>\n\t);\n\t\n};\n\nexport default Home;","import React, { useEffect, useState, useRef } from 'react';\nimport mapboxgl from \"mapbox-gl\";\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport './MapComponent.css';\nimport PropTypes from 'prop-types';\n\nconst styles = {\n  width: \"90vw\",\n\theight: \"65vh\",\n\toverflow: \"hidden\",\n};\n\nconst MapComponent = ({userInformation, coordinates}) => {\n  const [map, setMap] = useState(null);\n  const [mapMarkers, setMapMarkers] = useState([]);\n  const mapContainer = useRef(null);\n\n  useEffect(() => {\n    mapboxgl.accessToken = process.env.REACT_APP_MAP_API;\n\n    const initializeMap = ({ setMap, mapContainer }) => {\n      const map = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: \"mapbox://styles/jessicaliang/ckcb79d7d5vit1jq928rxsova\", // stylesheet location\n        center: [0, 16],\n        zoom: 1\n      });\n\t\t\n      map.on(\"load\", () => {\n\t\t\t\tsetMap(map);\n        map.resize();\n        \n        console.log({coordinates});\n\n        for (let i = 0; i < coordinates.length; i ++) {\n          for (let y = 0; y < coordinates[i].length; y ++) {\n            let el = document.createElement('div');\n            el.style.backgroundImage =\n              `url(${coordinates[i][y][1]})`;\n            el.style.width = \"75px\";\n            el.style.height = \"75px\";\n            el.className = 'marker';\n\n            let popup = new mapboxgl.Popup({ offset: 40 }).setText(\n              userInformation[i][\"places\"][y][0].toUpperCase()\n            );\n\n            mapMarkers.push(new mapboxgl.Marker(el)\n              .setLngLat(coordinates[i][y][0])\n              .setPopup(popup)\n              .addTo(map));\n          }\n        }\n      });\n    };\n\n\t\tif (!map) initializeMap({ setMap, mapContainer });\n  }, [map]);\n\n  useEffect(() => {\n    if (!map) { return }\n\n    console.log({coordinates});\n    console.log({userInformation});\n    mapMarkers.forEach((marker) => {\n      marker.remove();\n    });\n    mapMarkers.length = 0;\n    console.log({mapMarkers});\n\n    for (let i = 0; i < coordinates.length; i ++) {\n      for (let y = 0; y < coordinates[i].length; y ++) {\n        let el = document.createElement('div');\n        el.style.backgroundImage =\n          `url(${coordinates[i][y][1]})`;\n        el.style.width = \"75px\";\n        el.style.height = \"75px\";\n        el.className = 'marker';\n\n        let popup = new mapboxgl.Popup({ offset: 40 }).setText(\n          userInformation[i][\"places\"][y][0].toUpperCase()\n        );\n\n        mapMarkers.push(new mapboxgl.Marker(el)\n          .setLngLat(coordinates[i][y][0])\n          .setPopup(popup)\n          .addTo(map));\n      }\n    }\n  }, [coordinates, map])\n\n  return <div ref={el => (mapContainer.current = el)} style={styles} />;\n};\n\nexport default MapComponent;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MapComponent from './MapComponent';\nimport './MapPage.css';\n\nconst MapPage = (props) => {\n\n\treturn (\n\t\t<div className=\"map-container\">\n\t\t\t<MapComponent {...props} />\n\t\t</div>\n\t);\n\t\n};\n\nexport default MapPage;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditTripForm.css';\n\nconst EditTripForm = ({index, title, date, tripPlaces, editTripCallback, setToggleEdit}) => {\n\t// Form Fields\n\tconst [otherFields, setOtherFields] = useState({\n\t\ttitle: title,\n\t\tdate: date,\n\t});\n\tconst [places, setPlaces] = useState(tripPlaces);\n\n\tconst addPlaceField = (event) => {\n\t\tevent.preventDefault();\n\t\tconst newPlaces = [...places];\n\t\tnewPlaces.push([\"\", \"\"]);\n\t\tsetPlaces(newPlaces);\n\t}\n\n\tconst removePlaceField = (event, index) => {\n\t\tevent.preventDefault();\n\t\tconst newPlaces = [...places];\n\t\tnewPlaces.splice(index, 1);\n\t\tsetPlaces(newPlaces);\n\t}\n\n\tconst onPlacesUpdate = (event, index) => {\n\t\tconst updatedPlaces = [...places];\n\t\tupdatedPlaces[index][0] = event.target.value;\n\t\tsetPlaces(updatedPlaces);\n\t}\n\n\tconst onPlacesUrlUpdate = (event, index) => {\n\t\tconst updatedPlaces = [...places];\n\t\tupdatedPlaces[index][1] = event.target.value;\n\t\tsetPlaces(updatedPlaces);\n\t}\n\t\n\tconst onOtherFieldsUpdate = (event) => {\n\t\tconst newOtherFields = {...otherFields};\n\t\tnewOtherFields[event.target.name] = event.target.value;\n\t\tsetOtherFields(newOtherFields);\n\t}\n\n\tconst onSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tsetToggleEdit(false);\n\n\t\tconsole.log(places);\n\t\tconsole.log(otherFields);\n\t\teditTripCallback(otherFields, places, index)\n\n\t\t// setOtherFields({\n\t\t// \ttitle: title,\n\t\t// \tdate: date,\n\t\t// });\n\t\t// setPlaces(tripPlaces);\n\t}\n\n\treturn(\n\t\t<div className=\"edit_trip_form_container\">\n\t\t\t<h2>Edit</h2>\n\t\t\t<form onSubmit={ onSubmit }>\n\t\t\t\t<section>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<strong>Title </strong><br />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tvalue={ otherFields[\"title\"] } \n\t\t\t\t\t\t\tname=\"title\" \n\t\t\t\t\t\t\tonChange={ onOtherFieldsUpdate } \n\t\t\t\t\t\t\tmaxLength=\"26\" \n\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</label>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<strong>Date </strong><br />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tvalue={ otherFields[\"date\"] } \n\t\t\t\t\t\t\tname=\"date\" \n\t\t\t\t\t\t\tonChange={ onOtherFieldsUpdate } \n\t\t\t\t\t\t\tpattern=\"\\d{1,2}-\\d{4}\" \n\t\t\t\t\t\t\tmaxLength=\"7\" \n\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</label>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<strong>Places </strong><br />\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaces.map((place, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<section key={ index }>\n\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\" value={ place[0] } \n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onPlacesUpdate(e, index) } \n\t\t\t\t\t\t\t\t\t\t\tmaxLength=\"26\" required /> \n\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\ttype=\"text\" value={ place[1] } \n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onPlacesUrlUpdate(e, index) } \n\t\t\t\t\t\t\t\t\t\t\tmaxLength=\"100\" required />\n\t\t\t\t\t\t\t\t\t\t<button onClick = {(e) => removePlaceField(e, index) }>X</button>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</label>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<button onClick={ addPlaceField }>Add Place</button>\n\t\t\t\t\t<button onClick={() => setToggleEdit(false)}>Close</button>\n\t\t\t\t\t<input type=\"submit\" value=\"Save\" onSubmit={ onSubmit } />\n\t\t\t\t</section>\n\t\t\t</form>\n\t\t</div>\n\t);\n\n};\n\nexport default EditTripForm;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport EditTripForm from './EditTripForm';\nimport './Trip.css';\n\nconst Trip = ({index, title, date, places, editTripCallback, deleteTripCallback}) => {\n\n\tconst [toggleEdit, setToggleEdit] = useState(false);\n\n\treturn (\n\t\t<section className=\"trip_listing_container\">\n\t\t\t{(toggleEdit === false) ? (\n\t\t\t\t<section>\n\t\t\t\t<h2>{ title }</h2>\n\t\t\t\t<p className=\"trip_listing_container--date\">\n\t\t\t\t\t<em>{ date }</em>\n\t\t\t\t</p>\n\t\t\t\t<h3>Places</h3> \n\t\t\t\t<p className=\"trip_listing_container--places-container\">\n\t\t\t\t\t{ places }\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick = {() => setToggleEdit(true)}\n\t\t\t\t\t>\n\t\t\t\t\t\tEdit\n\t\t\t\t\t</button>\n\t\t\t\t\t<button \n\t\t\t\t\t\tonClick={() => { if (window.confirm('Are you sure you wish to delete this item?')) deleteTripCallback(index) } }\n\t\t\t\t\t>\n\t\t\t\t\t\tX\n\t\t\t\t\t</button>\n\t\t\t\t</p>\n\t\t\t\t</section>\n\t\t\t) : ( \n\t\t\t\t<EditTripForm \n\t\t\t\t\tkey={ index }\n\t\t\t\t\tindex={ index }\n\t\t\t\t\ttitle={ title } \n\t\t\t\t\tdate={ date }\n\t\t\t\t\ttripPlaces={ places }\n\t\t\t\t\teditTripCallback = { editTripCallback }\n\t\t\t\t\tsetToggleEdit = { setToggleEdit }\n\t\t\t\t/>\n\t\t\t)}\n\t\t</section>\n\t);\n\t\n};\n\nexport default Trip;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Trip from './Trip';\nimport './Trips.css';\n\n\nconst Trips = (props) => {\n\t\n\tlet allTrips = []\n\tallTrips = props.userInformation.map((trip, index) => {\n\t\treturn (\n\t\t\t<Trip\n\t\t\t\tkey={ index }\n\t\t\t\tindex={ index }\n\t\t\t\ttitle={ trip.title }\n\t\t\t\tdate={ trip.date }\n\t\t\t\tplaces= { trip.places }\n\t\t\t\teditTripCallback = { props.editTripCallback }\n\t\t\t\tdeleteTripCallback = { props.deleteTripCallback }\n\t\t\t/> \n\t\t);\n\t});\n\t\t\n\treturn (\n\t\t<div className='all-trips-container'>\n\t\t\t<h1>Your Trips</h1>\n\t\t\t{ allTrips }\n\t\t</div>\n\t);\n};\n\nexport default Trips;","import React, { useState } from 'react';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport './NewTripForm.css';\n\nconst NewTripForm = (props) => {\n\t// Form Fields\n\tconst [otherFields, setOtherFields] = useState({\n\t\ttitle: '',\n\t\tmonth: '',\n\t\tyear: ''\n\t});\n\tconst [places, setPlaces] = useState([[\"\", \"\"]]);\n\n\tconst addPlaceField = (event) => {\n\t\tevent.preventDefault();\n\t\tconst newPlaces = [...places];\n\t\tnewPlaces.push([\"\", \"\"]);\n\t\tsetPlaces(newPlaces);\n\t}\n\n\tconst removePlaceField = (event, index) => {\n\t\tevent.preventDefault();\n\t\tconst newPlaces = [...places];\n\t\tnewPlaces.splice(index, 1);\n\t\tsetPlaces(newPlaces);\n\t}\n\n\tconst onPlacesUpdate = (event, index) => {\n\t\tconst updatedPlaces = [...places];\n\t\tupdatedPlaces[index][0] = event.target.value;\n\t\tsetPlaces(updatedPlaces);\n\t}\n\n\tconst onPlacesUrlUpdate = (event, index) => {\n\t\tconst updatedPlaces = [...places];\n\t\tupdatedPlaces[index][1] = event.target.value;\n\t\tsetPlaces(updatedPlaces);\n\t}\n\t\n\tconst onOtherFieldsUpdate = (event) => {\n\t\tconst newOtherFields = {...otherFields};\n\t\tnewOtherFields[event.target.name] = event.target.value;\n\t\tsetOtherFields(newOtherFields);\n\t}\n\n\tconst onSubmit = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconsole.log(places);\n\t\tconsole.log(otherFields);\n\t\tprops.addNewTripCallback(otherFields, places);\n\n\t\tsetOtherFields({\n\t\t\ttitle: '',\n\t\t\tmonth: '',\n\t\t\tyear: ''\n\t\t});\n\t\tsetPlaces([[\"\", \"\"]]);\n\t}\n\n\treturn(\n\t\t<div className=\"new_trip_form_container\">\n\t\t\t<h2>Add a New Trip</h2>\n\t\t\t<form onSubmit={ onSubmit }>\n\t\t\t\t<section className=\"new_trip_form_container--title\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<strong>Title </strong><br />\n\t\t\t\t\t\t<input type=\"text\" value={ otherFields[\"title\"] } name=\"title\" onChange={ onOtherFieldsUpdate } maxLength=\"26\" required />\n\t\t\t\t\t</label>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"new_trip_form_container--date\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<strong>Date </strong><br />\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"month\" value={ otherFields[\"month\"] } name=\"month\" onChange={ onOtherFieldsUpdate } pattern=\"\\d*\" maxLength=\"2\" required /> /  \n\t\t\t\t\t\t<input type=\"text\" placeholder=\"year\" value={ otherFields[\"year\"] } name=\"year\" onChange={ onOtherFieldsUpdate } pattern=\"\\d*\" maxLength=\"4\" required />\n\t\t\t\t\t</label>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"new_trip_form_container--places\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<strong>Places </strong><br />\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaces.map((place, index) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<section key={ index }>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" value={ place[0] } onChange={(e) => onPlacesUpdate(e, index) } maxLength=\"26\" required /> \n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" value={ place[1] } onChange={(e) => onPlacesUrlUpdate(e, index) } maxLength=\"100\" required />\n\t\t\t\t\t\t\t\t\t\t<button onClick = {(e) => removePlaceField(e, index) }>X</button>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</label>\n\t\t\t\t</section>\n\t\t\t\t<section className=\"new_trip_form_container--buttons\">\n\t\t\t\t\t<button onClick={ addPlaceField }>Add Place</button>\n\t\t\t\t\t<input type=\"submit\" value=\"Add New Trip\" onSubmit={ onSubmit } />\n\t\t\t\t</section>\n\t\t\t</form>\n\t\t</div>\n\t);\n\n};\n\nexport default NewTripForm;","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport MapPage from './MapPage';\nimport Trips from './Trips';\nimport NewTripForm from './NewTripForm';\nimport './Dashboard.css';\nimport axios from 'axios';\n\nconst Dashboard = (props) => {\n\n\tconst [encodedLocations, setEncodedLocations] = useState([]);\n\tconst [coordinates, setCoordinates] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst locations = [];\n\t\tfor (let i = 0; i < props.userInformation.length; i ++) {\n\t\t\tlocations.push([]);\n\t\t\tfor (const place of props.userInformation[i].places) {\n\t\t\t\tlocations[i].push( escape(place[0]) );\n\t\t\t};\n\t\t};\n\t\tsetEncodedLocations(locations);\n\t\t\n\t\tconst localCoordinates = [];\n\t\tconst encodingPromises = [];\n\t\tfor (let i = 0; i < locations.length; i ++) {\n\t\t\tlocalCoordinates.push([]);\n\t\t\tconst localPromises = locations[i].map((place, y) => {\n\t\t\t\treturn (\n\t\t\t\t\taxios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${place}.json?access_token=pk.eyJ1IjoiamVzc2ljYWxpYW5nIiwiYSI6ImNrY2I3N25wazFpOGEzMHF0dHY3aHNkOWUifQ.ItSK1BDpYydbUVyDPvdj6A`)\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tlocalCoordinates[i].push( [response.data.features[0].center, props.userInformation[i].places[y][1]] );\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t})\n\t\t\tencodingPromises.push(...localPromises)\n\t\t}\n\n\t\tPromise.all(encodingPromises)\n\t\t\t.then(() => {\n\t\t\t\tsetCoordinates(localCoordinates);\n\t\t\t});\n\t}, [props.userInformation]);\n\n\tconst addNewTrip = (otherFields, places) => {\n\t\taxios({\n      method: 'post',\n      url: \"https://the-travel-mapp.herokuapp.com/trips\",\n      params: {\n\t\t\t\tusername: props.currentUser,\n\t\t\t\tdate: `${otherFields[\"month\"]}-${otherFields[\"year\"]}`,\n\t\t\t\ttitle: otherFields[\"title\"],\n\t\t\t\tplaces: places\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n\t\t\t\t\"Access-Control-Allow-Headers\": \"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\"\n\t\t\t}\n    })\n    .then((response) => {\n\t\t\tconsole.log(response.data.trips);\n\t\t\tprops.setUserInformationCallback(response.data.trips);\n    })\n    .catch((error) => {\n      console.log(error);\n\t\t});\n\t}\n\n\tconst editTrip = (otherFields, places, index) => {\n\t\tconsole.log(otherFields);\n\t\tconsole.log(places);\n\t\tconsole.log(index);\n\t\taxios({\n      method: 'patch',\n      url: \"https://the-travel-mapp.herokuapp.com/trips\",\n      params: {\n\t\t\t\tindex: index,\n\t\t\t\tusername: props.currentUser,\n\t\t\t\tdate: otherFields[\"date\"],\n\t\t\t\ttitle: otherFields[\"title\"],\n\t\t\t\tplaces: places\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n\t\t\t\t\"Access-Control-Allow-Headers\": \"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\"\n\t\t\t}\n    })\n    .then((response) => {\n\t\t\tconsole.log(response.data.trips);\n\t\t\tprops.setUserInformationCallback(response.data.trips);\n    })\n    .catch((error) => {\n      console.log(error);\n\t\t});\n\t}\n\n\tconst deleteTrip = (id) => {\n\t\taxios({\n      method: 'delete',\n      url: \"https://the-travel-mapp.herokuapp.com/trips\",\n      data: {\n\t\t\t\tusername: props.currentUser,\n\t\t\t\tkey: id\n\t\t\t},\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Access-Control-Allow-Origin\": \"*\",\n\t\t\t\t\"Access-Control-Allow-Methods\": \"GET, POST, PATCH, PUT, DELETE, OPTIONS\",\n\t\t\t\t\"Access-Control-Allow-Headers\": \"Origin, X-Auth-Token, Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\"\n\t\t\t}\n    })\n    .then((response) => {\n\t\t\tconsole.log(response.data.trips);\n\t\t\tprops.setUserInformationCallback(response.data.trips);\n    })\n    .catch((error) => {\n      console.log(error);\n\t\t});\n\t}\n\n\treturn (\n\t\t<div id=\"dashboard\">\n\t\t\t<header>\n\t\t\t\t<section>\n\t\t\t\t\t{ props.currentUser }\n\t\t\t\t</section>\n\t\t\t\t<h1>the travel mApp</h1>\n\t\t\t\t<section>\n\t\t\t\t\t<button onClick={ props.onLogoutCallback }>Log Out</button>\n\t\t\t\t</section>\n\t\t\t</header>\n\t\t\t<main id=\"dashboard__main_content\">\n\t\t\t\t\t<MapPage \n\t\t\t\t\t\tuserInformation={ props.userInformation } \n\t\t\t\t\t\tcoordinates={ coordinates } \n\t\t\t\t\t/>\n\t\t\t\t\t<NewTripForm \n\t\t\t\t\t\taddNewTripCallback = { addNewTrip }\n\t\t\t\t\t/>\n\t\t\t\t\t<Trips \n\t\t\t\t\t\tuserInformation={ props.userInformation } \n\t\t\t\t\t\teditTripCallback = { editTrip }\n\t\t\t\t\t\tdeleteTripCallback = { deleteTrip }\n\t\t\t\t\t/>\t\t\t\n\t\t\t</main>\n\t\t</div>\n\t);\n\t\n};\n\nexport default Dashboard;","import React, { useState } from 'react';\nimport Home from './components/Home';\nimport Dashboard from './components/Dashboard';\nimport './App.css';\nimport { userInfo } from 'os';\n\nconst App = () => {\n\n  const [user, setUser] = useState('');\n  const [userInformation, setUserInformation] = useState(null);\n  \n  const onLogout = (event) => {\n\t\tevent.preventDefault(); \n    setUser('');\n\t};\n\n  return (\n    <div>\n      {(user === '') && \n        <Home \n          setUserCallback = { setUser } \n          setUserInformationCallback = { setUserInformation } \n        />\n      }\n      {(user !== '') && (userInformation !== null) &&\n        <Dashboard \n          onLogoutCallback = { onLogout } \n          currentUser={ user } \n          setUserInformationCallback = { setUserInformation } \n          userInformation = { userInformation } \n        />\n      }\n    </div>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}